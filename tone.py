from machine import Pin, PWM
import time

R = float(0)
# Note frequencies based on http://www.phy.mtu.edu/~suits/notefreqs.html
C0 = float(16.35)
CS0 = float(17.32)
D0 = float(18.35)
DS0 = float(19.45)
E0 = float(20.60)
F0 = float(21.83)
FS0 = float(23.12)
G0 = float(24.50)
GS0 = float(25.96)
A0 = float(27.50)
AS0 = float(29.14)
B0 = float(30.87)
C1 = float(32.70)
CS1 = float(34.65)
D1 = float(36.71)
DS1 = float(38.89)
E1 = float(41.20)
F1 = float(43.65)
FS1 = float(46.25)
G1 = float(49.00)
GS1 = float(51.91)
A1 = float(55.00)
AS1 = float(58.27)
B1 = float(61.74)
C2 = float(65.41)
CS2 = float(69.30)
D2 = float(73.42)
DS2 = float(77.78)
E2 = float(82.41)
F2 = float(87.31)
FS2 = float(92.50)
G2 = float(98.00)
GS2 = float(103.83)
A2 = float(110.00)
AS2 = float(116.54)
B2 = float(123.47)
C3 = float(130.81)
CS3 = float(138.59)
D3 = float(146.83)
DS3 = float(155.56)
E3 = float(164.81)
F3 = float(174.61)
FS3 = float(185.00)
G3 = float(196.00)
GS3 = float(207.65)
A3 = float(220.00)
AS3 = float(233.08)
B3 = float(246.94)
C4 = float(261.63)
CS4 = float(277.18)
D4 = float(293.66)
DS4 = float(311.13)
E4 = float(329.63)
F4 = float(349.23)
FS4 = float(369.99)
G4 = float(392.00)
GS4 = float(415.30)
A4 = float(440.00)
AS4 = float(466.16)
B4 = float(493.88)
C5 = float(523.25)
CS5 = float(554.37)
D5 = float(587.33)
DS5 = float(622.25)
E5 = float(659.25)
F5 = float(698.46)
FS5 = float(739.99)
G5 = float(783.99)
GS5 = float(830.61)
A5 = float(880.00)
AS5 = float(932.33)
B5 = float(987.77)
C6 = float(1046.50)
CS6 = float(1108.73)
D6 = float(1174.66)
DS6 = float(1244.51)
E6 = float(1318.51)
F6 = float(1396.91)
FS6 = float(1479.98)
G6 = float(1567.98)
GS6 = float(1661.22)
A6 = float(1760.00)
AS6 = float(1864.66)
B6 = float(1975.53)
C7 = float(2093.00)
CS7 = float(2217.46)
D7 = float(2349.32)
DS7 = float(2489.02)
E7 = float(2637.02)
F7 = float(2793.83)
FS7 = float(2959.96)
G7 = float(3135.96)
GS7 = float(3322.44)
A7 = float(3520.00)
AS7 = float(3729.31)
B7 = float(3951.07)
C8 = float(4186.01)
CS8 = float(4434.92)
D8 = float(4698.63)
DS8 = float(4978.03)
E8 = float(5274.04)
F8 = float(5587.65)
FS8 = float(5919.91)
G8 = float(6271.93)
GS8 = float(6644.88)
A8 = float(7040.00)
AS8 = float(7458.62)
B8 = float(7902.13)

# beats per minute
BPM = float(120.0)

# Time = float(in microseconds) to spend on each note while simulating polyphony
# If this is too small, low frequency notes will be inaudible.
POLYDELTA = int(14400)

pwm0 = PWM(Pin(2))

tetris = [E5,E2,E3, B4,E2, C5, D5, C5, B4, A4, A4, C5, E5, D5, C5, B4, B4, C5, D5, E5, C5, A4, A4, R, D5, F5, A5, G5, F5, E5, C5, E5, D5, C5, B4, B4, C5, D5, E5, C5, A4, A4, R,]
bass = [E2, E3, E2, E3, E2, E3, E2, E3, A1, A2, A1, A2, A1, A2, A1, A2, GS1, GS2, GS1, GS2, GS1, GS2, GS1, GS2, A1, A2, A1, A2, A1, B2, C3, E3,D2, D3, D2, D3, D2, D3, D2, D3, C2, C3, C2, C3, C2, C3, C2, C3, B1, B2, B1, B2, B1, B2, B1, B2, A1, A2, A1, A2, A1, A2, A1, A2,]

for i in tetris:
    pwm0.freq(int(i))
    pwm0.duty(120)          # set duty cycle
    print(i)
    time.sleep(0.20)
